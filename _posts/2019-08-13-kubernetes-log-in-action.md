---
title: kubernetes log in action
subtitle: 日志实践
layout: post
tags: [kubernetes,logs]
---

kubernets体系化日志实践



## 背景

kubernetes落地之后，相关的运维工作比较复杂。尤其是日志相关的，我们需要关注以下信息：

- docker stdout 日志
- kubernetes 相关组件的日志
- etcd、coredns相关辅助组件日志
- 应用日志
- 物理机内核日志



首先，我们得解决日志的采集、存储的问题。

然后，在众多的日志中找到我们关心的部分，实现量化。



## 当前现状



由于日志的量比较多，可以学习一下「Node Problem Detector」组件，只将我们感兴趣的日志提取出来，生成相关的数据记录、聚合报警。根据报警信息的相关类型，我们有针对性地对节点、问题进行相关的修复。



## 解决方案

日志采集、日志的存储、日志清洗、日志处理、日志可视化、日志的反馈。

**核心思想**：将日志转化为反馈信息，及时发现问题修复问题。

**目标**：要做到1min发现问题，5min定位问题，10min修复问题。能自动化的自动化，减少人工干预。当然，自动化需要设置相应的规则、阈值，避免风险的发生。



